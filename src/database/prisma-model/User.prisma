import {  Donation } from "Donation"
import { Driver } from "Driver"
import { Recipient } from "Recipient"

enum RoleCode {
    RECIPIENT
    DRIVER
    DONOR
    ADMIN
}

model Role {
    id        Int      @id @default(autoincrement())
    code      RoleCode
    status    Boolean  @default(true)
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    User      User?    @relation(fields: [userId], references: [id])
    userId    Int?
}

model User {
    id                  Int         @id @default(autoincrement())
    firstname           String
    lastname            String
    email               String      @unique
    password            String
    phoneNumber         String
    address             String?
    gender              String?
    age                 Int?
    is_verified         Boolean     @default(false)
    profile_picture_url String
    roles               Role[]
    Keystore            Keystore[]
    donations           Donation[]
    Driver              Driver[]
    Recipient           Recipient[]
}

model Keystore {
    id           Int      @id @default(autoincrement())
    client       User     @relation(fields: [clientId], references: [id])
    clientId     Int
    primaryKey   String
    secondaryKey String
    status       Boolean  @default(true)
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
}
